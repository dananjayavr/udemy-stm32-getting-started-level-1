/*
 * rcc.c
 *
 *  Created on: 2 dÃ©c. 2021
 *      Author: dananjaya
 */


#include "rcc.h"

/*
 * @brief HSE configuration
 */
void rcc_HSE_config(void) {
  /*
   * configuration parameters --> STM32F103 Clock tree
   * HSE = 8 MHz
   * PLL = x9 (72 MHz system clock)
   * USB prescaler = /1.5
   * AHB prescaler = /1
   * Cortex prescaler (i.e. SysTick) = /1
   *
   * APB1 prescaler = /2 (36 Mhz, 72 MHz)
   * APB2 prescaler = /1 (72 MHz)
   * ADC prescaler = /6 (12 MHz)
   */

  // PLL configuration
  // Set PLL multiplier to x9
  //RCC->CFGR &= ~(0xFUL << 18); // Clear bitfields [21:18] 0xF = 1111
  RCC->CFGR &= ~(RCC_CFGR_PLLMULL); // same as above
}
